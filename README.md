# Imagebinarizer  [![.NET Core Desktop](https://github.com/UniversityOfAppliedSciencesFrankfurt/imagebinarizer/actions/workflows/dotnet-desktop.yml/badge.svg)](https://github.com/UniversityOfAppliedSciencesFrankfurt/imagebinarizer/actions/workflows/dotnet-desktop.yml)
Image binarization is the process of taking an image and convert it into black and with image. This process uses thresholds of RBG or Gray to assign black (0) or white (1) to a pixel. Binarization is usually use when trying to extract object from picture.

The purpose of this project is to performs binarization of images. It converts a color image to the 2D representation of 01 bits (with 0 and 1). Binarized image is then saved at the provided path with the given name in output path argument:
~~~ shell
--output-image <your image output path>
~~~
The following command gives information for the arguments anh how to use them when running the project.
~~~ shell
dotnet ImageBinarizer.dll --help
~~~
## Example:
This is the original logo of DAENET:

![](/images/daenet.png) 

If you want to create the binrized representation of the same image you can execute following command:

~~~ shell
dotnet ImageBinarizer.dll --input-image <your image input path (c:\path\inputImage.png)> --output-image <your image output path (c:\path\output.txt)>
~~~

This command will create the same image in binarized form by using threshold values for each color that equal to average values of them. and save it to the given folder with the provided filename with "--output-image" argument.

### Resize
#### Only width or height is provided.

If you want to change one of the sides of the image to get a specific width or height (that fit to some frame), the other side will be calculated base on the aspect ratio of the original image. you can try following command:

``` shell
dotnet ImageBinarizer.dll --input-image <your image input path (c:\path\DAENET.png)> --output-image <your image output path (c:\path\output.txt)> --imagewidth 120
```
or
~~~ shell
dotnet ImageBinarizer.dll --input-image <your image input path (c:\path\inputImage.png)> --output-image <your image output path (c:\path\output.txt)> --imageheight 120
~~~

The Binarized image is generated as below with a custom width of 120, height is automatically calculated when using the DAENET logo as the input image:
```
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111100111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111110001111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111000001111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111000000111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000001111111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000111111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000001111111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000011111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000001111111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000000011111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000000001111111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000000000011111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000000000000111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000000000000011111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000000000000001111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111100000000000000000000000011111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111000000000000000000000000000111111111111111111111111111111111111111111111111111111111101
111111111111111111111111111111111000000000000000000000000000011111111111111111111111111111111111111111111111111111110001
111111111111111111111111111111110000000000000000000000000000000111111111111111111111111111111111111111111111111111000001
111111111111111111111111111111110000000000000110000000000000000011111111111111111111111111111111111111111111111110001001
111111111111111111111111111111100000000000001110000000000000000000111111111111111111111111111111111111111111111100011001
111111111111111111111111111111100000000000001110000000000000000000000000001111110000000000011111111000000011110000110000
111111111111111111111111111111000000000000001110000000000000000000000000000011110000000000000111110000000001110000110000
111111111111111111111111111110000000011111001100000001111110000000000111110001110011001111100111000011111000110011111100
111111111111111111111111111110000000111111111100000011111111000000011111111001100011111111110011001111111100100111111100
111111111111111111111111111100000001110000111100000011000011000000111000011100100111100001110010011100001110000001100000
111111111111111111111111111000000001100000111100000000000011000000110000011100100111000001110010011000000110000001100001
111111111111111111111111110000000011100000011100000000001111000001110000001100100111001001100000111000000110010001100111
111111111111111111111111110000000011000000011000000011111111000001111111111100000110001001100100111111111110010011100111
111111111111111111111111100000000011000000111000001110000111000001111111111100001110010011100100111111111110010011100111
111111111111111111111111000000000011000000111000001100000111000001100000000000001110010011100100110000000000010011100111
111111111111111111111110000000000011100001111000001100001110000001110000000000001110010011100100111000000000010011000001
111111111111111111111100000000000011110011111000001110011110000000110000111000001100010011001110011100011100110111100001
111111111111111111111000000000000001111111110000001111111110000000011111110000001100000011001110001111111000110011110011
111111111111111111110000000000000000111000000000000111000110000000001111000000000000000000001111000111100001110001110011
111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000001111100000000111111000000011
111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000011111111000001111111100000111
111111111111111110000000000000000000000000000000000000111111111000000000000000000000000000001111111111111111111111111111
111111111111111100000000000000000000000000000011111111111111111111111111000000000000000000000011111111111111111111111111
111111111111111000000000000000000000000011111111111111111111111111111111111110000000000000000000111111111111111111111111
111111111111110000000000000000000001111111111111111111111111111111111111111111111100000000000000011111111111111111111111
111111111111000000000000000000001111111111111111111111111111111111111111111111111111110000000000000111111111111111111111
111111111110000000000000000011111111111111111111111111111111111111111111111111111111111110000000000011111111111111111111
111111111100000000000000111111111111111111111111111111111111111111111111111111111111111111110000000000111111111111111111
111111111000000000000011111111111111111111111111111111111111111111111111111111111111111111111110000000011111111111111111
111111110000000000111111111111111111111111111111111111111111111111111111111111111111111111111111110000000111111111111111
111111000000000011111111111111111111111111111111111111111111111111111111111111111111111111111111111100000011111111111111
111110000000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000000111111111111
111100000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111
111000001111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111
100001111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100001111111
001111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111011111
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111

```
#### Create image in a custom scale
The resization can be done with a custom of both width and height with the following command:
~~~
dotnet ImageBinarizer.dll --input-image <your image input path (c:\path\DAENET.png)> --output-image <your image output path (c:\path\output.txt)> --imagewidth 120 --imageheight 120
~~~
The binarize image then can be used for many purposes, such as to be used as a console application logo. To draw to console from binarized image file, with C# language, the following code can be use:
~~~csharp
public static void PrintData()
{
    var clr = Console.ForegroundColor;
    using (StreamReader readtext = new StreamReader(<your binarized image path as string>))
    {
         string readMeText = readtext.ReadLine();
         while (readMeText != null)
         {
               for (int i = 0; i < readMeText.Length; i++)
               {
                    if (readMeText[i] == '0')
                    {
                        Console.ForegroundColor = ConsoleColor.Blue;
                    }

                    Console.Write(readMeText[i]);
                    Console.ForegroundColor = clr;
                }

                Console.WriteLine();
                readMeText = readtext.ReadLine();
         }

    }
}
~~~
After calling this function in main, the image is then drawn as shown in the picture below:
![](/images/console.png)


### Inverted Image
Another option to binarize the image is to get the inverse of it. The following command provides required argument (--inv) to perform Inverse Binarization:
~~~shell
dotnet ImageBinarizer.dll --input-image <your image input path (c:\path\inputImage.png)> --output-image <your image output path (c:\path\output.txt)> --inv
~~~
The pictures below compare the normal binarized image (left) with the inverted binarized image (right):

<img src="/images/NormalConvert.png" width="400"><img src="/images/InverseConvert.png" width="400">


### Gray Scale
In real life, human eyes have different sensitivities with different colors. According to research, Green, Red, then Blue are the order of the sensitivities of the eyes from high to low to the primary light color. To the have a better performence in binarization according to human eyes, the image should be converted to Gray Scale befor binarizing. NTSC formula is used to convert the image:
~~~
grayValue = 0.299*redValue + 0.587*greenValue + 0.114*blueValue
~~~
To enable gray scale, required argument (--gs) need to be provided as shown in below command:
~~~shell
dotnet ImageBinarizer.dll --input-image <your image input path (c:\path\inputImage.png)> --output-image <your image output path (c:\path\output.txt)> --gs
~~~


### Thresholds customization
One interesting feature of this project is to customize the thresholds for each primary color when perform binarization to have a better binarized result. Use the following command to setup thresholds' values:
~~~shell
dotnet ImageBinarizer.dll --input-image <your image input path (c:\path\inputImage.png)> --output-image <your image output path (c:\path\output.txt)> --redthreshold 100 --greenthreshold 100 --bluethreshold 100
~~~
The image below shows the differences between Normal Binarization (the left one) and Customized Thresholds Binarization (the right one):
<img src="/images/thresholdCustomize.png">

Customized Gray Threshold can also be provided while performing binarization with the following command:
~~~shell
dotnet ImageBinarizer.dll --input-image <your image input path (c:\path\inputImage.png)> --output-image <your image output path (c:\path\output.txt)> --gs --greythreshold 100
~~~


### Futher development
Image Contour Recognition is an interesting subject. It helps users to get the shape of objects to apply to other applications such as object detection in machine learning. Right now, Image Contour Recognition can be done with some tries in thresholds setup and give the result as shown below.

<img src="/images/Contour.png">

For future development, a new function will be created to detect the contour automatically without trying different sets of threshold setup.

## Another Examples for Image Binarization
Below are some more examples for image binarization.

<img src="/images/flower.png" width="400">   <img src="/images/Car.png" width="400">
<img src="/images/house.png">


